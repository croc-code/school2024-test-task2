## Тестовое задание для отбора на Летнюю ИТ-школу КРОК по разработке

### Условие задания
Один развивающийся и перспективный маркетплейс активно растет в настоящее время. Текущая команда разработки вовсю занята тем, что развивает ядро системы. Помимо этого, перед CTO маркетплейса стоит задача — разработать подсистему аналитики, которая на основе накопленных данных формировала бы разнообразные отчеты и статистику.

Вы — компания подрядчик, с которой маркетплейс заключил рамочный договор на выполнение работ по разработке этой подсистемы. В рамках первого этапа вы условились провести работы по прототипированию и определению целевого технологического стека и общих подходов к разработке.

На одном из совещаний с Заказчиком вы определили задачу, на которой будете выполнять работы по прототипированию. В качестве такой задачи была выбрана разработка отчета о наиболее популярных категориях товаров, продаваемых во время подготовки новогодних подарков покупателями.

Аналитики со стороны маркетплейса предоставили небольшой срез массива данных (файл format.json) о совершенных покупках пользователей за 4-й квартал 2023 года, на примере которого вы смогли бы ознакомиться с форматом входных данных. Каждая запись данного среза содержит следующую информацию:

- Дата и время оформления заказа;
- Корзина.

В пояснительной записке к массиву данных была уточняющая информация относительно формате данных, представленных в корзине. Так, например, корзина - это массив однотипных сведений о купленных товаров, определяемых следующим набором данных:

- Идентификатор товара;
- Наименование товара;
- Категория.

В свою очередь сведения о категории представлены в следующем виде:

- Идентификатор категории;
- Наименование категории.

Необходимо разработать отчет, определяющий категории товаров, наиболее популярные перед Новым годом. Если популярных категорий товаров больше, чем одна, отчет должен показывать их все. Предновогодним периодом будем считать срок с 1 по 31 декабря.

### Требования к реализации:

1. Реализация должна содержать, как минимум, одну процедуру (функцию/метод), отвечающую за формирование отчета, и должна быть описана в readme.md в соответствии с чек-листом;
2. В качестве входных данных программа использует json-файл (input.json), соответствующий структуре, описанной в условиях задания;
3. Процедура (функция/метод) формирования отчета должна возвращать строку в формате json следующего формата:

{«categories»: [«Бытовая техника»]}
{«categories»: [«Бытовая техника», «Косметика»]}

4. Найденная в соответствии с условием задачи категория должна выводиться в изначальном наименовании, приведенном в файле с входными данными. Если таких категорий несколько, то на вывод они все подаются в алфавитном порядке.

### Автор решения
Платонов Даниил \
почта: platonov.danik@bk.ru \
tg: p_danik

### Описание реализации

Проект `PopularCategories` представляет собой программу для анализа данных о покупках пользователей в маркетплейсе. Основная цель программы - определить наиболее популярные категории товаров, продаваемых перед Новым годом.

#### Структура проекта

- **Главный класс: `PopularCategories`**
  - Основной класс программы, содержащий точку входа `main` и методы для чтения данных из JSON-файла, подсчета количества категорий, нахождения самых популярных категорий и генерации отчета.
  
- **Классы моделей: `OrderData`, `ItemData`, `CategoryData`**
  - Классы, представляющие структуру данных о заказах, товарах и категориях в маркетплейсе. Они используются для десериализации JSON-данных в Java-объекты.

#### Основные методы

- `readDataFromJson(String fileName, Type type)`
  - Метод для чтения данных из JSON-файла и их десериализации в указанный тип объекта.
  
- `countCategories(List<OrderData> orders)`
  - Метод для подсчета количества каждой категории товаров в списке заказов, сделанных в декабре.
  
- `findPopularCategories(Map<String, Integer> categoryCounts)`
  - Метод для определения наиболее популярных категорий на основе количества каждой категории.
  
- `generateReport(List<String> popularCategories)`
  - Метод для генерации JSON-отчета на основе списка популярных категорий.

#### Используемые библиотеки

- **Gson**
  - Используется для десериализации JSON-данных в Java-объекты и сериализации Java-объектов в JSON-формат.
  
- **SLF4J (Simple Logging Facade for Java)**
  - Используется для логирования информации о выполнении программы.


### Инструкция по сборке и запуску решения

### Инструкция по сборке и запуску решения

1. **Сборка проекта**
   - Сборка проекта выполняется с помощью Apache Maven. Для очистки исходных и скомпилированных файлов, а также компиляции исходного кода, используйте следующие команды:

     ```bash
     mvn clean compile
     ```
   - После успешной компиляции исходного кода вы можете продолжить сборку проекта и упаковку его в jar-файл с зависимостями.

2. **Упаковка проекта в jar-файл**
   - Для упаковки проекта в jar-файл вместе с зависимостями, используйте следующую команду:

     ```bash
     mvn package assembly:single
     ```
   - Эта команда соберет проект, упакует его в jar-файл и включит в него все необходимые зависимости.

3. **Запуск приложения**
   - После успешной сборки проекта перейдите в каталог `target`. Для запуска приложения используйте следующую команду:

     ```bash
     java -jar MarketAnalytic-1.0-SNAPSHOT-jar-with-dependencies.jar
     ```
   - Эта команда запустит приложение, и оно начнет анализировать данные и генерировать отчет.
